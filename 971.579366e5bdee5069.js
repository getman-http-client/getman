"use strict";(self.webpackChunkgetman_app=self.webpackChunkgetman_app||[]).push([[971],{5971:(X,C,r)=>{r.r(C),r.d(C,{MainRequestModule:()=>W});var Z=r(9299),b=r(3288),s=r(4006),u=(()=>{return(o=u||(u={}))[o.GET=1]="GET",o[o.POST=2]="POST",o[o.PUT=4]="PUT",o[o.DELETE=8]="DELETE",o[o.PATCH=32]="PATCH",o[o.OPTIONS=64]="OPTIONS",o[o.HEAD=16]="HEAD",u;var o})();class d{constructor(a){this.value=this.empty,a&&d.isValid(a)&&(this.value=a.toLowerCase())}static newGuid(){return new d("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,a=>{const t=16*Math.random()|0;return("x"==a?t:3&t|8).toString(16)}))}static get empty(){return"00000000-0000-0000-0000-000000000000"}static isValid(a){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}get empty(){return d.empty}toString(){return this.value}toJSON(){return this.value}equals(a){return this.toString()==a?.toString()}}var p=r(4004),N=r(5684),w=r(3900),k=r(2641),e=r(4650),R=r(529);let T=(()=>{class o{constructor(t){this._http=t}request(t,n,i,l){let c,f=l??{};switch(i){case u.GET:c=this._http.get(t,{headers:f});break;case u.POST:c=this._http.post(t,n,{headers:f});break;case u.PUT:c=this._http.put(t,n,{headers:f});break;case u.DELETE:c=this._http.delete(t,{headers:f})}if(!c)throw new k.g("M\xe9todo n\xe3o suportado");return c}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(R.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var S=r(4909),g=r(5938),h=r(6895),y=r(4859);function E(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCancel())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.cancelAction?null:t.cancelAction.label," ")}}let J=(()=>{class o{constructor(t,n){this._data=t,this._matDialogRef=n}ngOnInit(){!this._data||(this.title=this._data.title,this.message=this._data.message,this.confirmAction=this._data.actions.confirm,this.cancelAction=this._data.actions.cancel)}onConfirm(){this._matDialogRef.close(!0)}onCancel(){this._matDialogRef.close(!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.WI),e.Y36(g.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"flex","items-center","justify-end","gap-1"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"color","click"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,E,2,1,"button",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return n.onConfirm()}),e._uU(7),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(n.title),e.xp6(2),e.hij(" ",n.message,"\n"),e.xp6(2),e.Q6J("ngIf",null==n.cancelAction?null:n.cancelAction.show),e.xp6(1),e.Q6J("color",null==n.confirmAction?null:n.confirmAction.color),e.xp6(1),e.hij(" ",null==n.confirmAction?null:n.confirmAction.label," "))},dependencies:[b.m,h.O5,y.lW,g.uh,g.xY,g.H8],encapsulation:2}),o})(),U=(()=>{class o{constructor(t){this._matDialog=t}confirm(t,n){const i=class q{static get _default(){return{title:"Confirma\xe7\xe3o",message:"Deseja confirmar esta a\xe7\xe3o?",dismissible:!1,icon:{show:!1},actions:{confirm:{label:"Sim",color:"accent",show:!0},cancel:{label:"N\xe3o",show:!0}}}}static get _layout(){return{width:"500px",height:"250px"}}static getConfig(a){const t={data:this._default,width:this._layout.width,disableClose:!this._default.dismissible};return a?.confirmText&&(t.data.actions.confirm.label=a?.confirmText),a?.cancelText&&(t.data.actions.cancel.label=a?.cancelText),null!=a?.dismissible&&(t.data.dismissible=a?.dismissible,t.disableClose=!a?.dismissible),t}}.getConfig(n);return t&&(i.data.message=t),this._matDialog.open(J,{...i}).afterClosed().pipe((0,p.U)(l=>!!l))}open(t,n,i){const l=class M{static get _default(){return{}}static getConfig(a){const t=this._default;return a?.id&&(t.id=a?.id),a?.width&&(t.width=a?.width),a?.height&&(t.height=a?.height),a?.maxWidth&&(t.maxWidth=a?.maxWidth),a?.maxHeight&&(t.maxHeight=a?.maxHeight),a?.panelClass&&(t.panelClass=a?.panelClass),a?.hasBackdrop&&(t.hasBackdrop=a?.hasBackdrop),a?.disableClose&&(t.disableClose=a?.disableClose),t}}.getConfig(i);return this._matDialog.open(t,{...l,data:n})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(g.uw))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var D=r(7009);let I=(()=>{class o{constructor(t){this.snackBar=t,this._defaultConfig={snackBar:{horizontalPosition:"center",verticalPosition:"bottom",duration:5e3,panelClass:[]},actionText:"\u2715"}}message(t,n){const i=this._getConfig(n,["bg-accent","text-on-accent"]);return this.snackBar.open(t,i.actionText,{...i.snackBar}).onAction().pipe((0,p.U)(()=>!0))}error(t,n){const i=this._getConfig(n,["bg-warn","text-on-warn"]);return this.snackBar.open(t,i.actionText,{...i.snackBar}).onAction().pipe((0,p.U)(()=>!0))}_getConfig(t,n){const i=this._defaultConfig;return t?.actionText&&(i.actionText=t?.actionText),n&&n?.length>0&&(i.snackBar.panelClass=Array.isArray(n)?[...n]:[n]),t?.duration&&(i.snackBar.duration=t?.duration),i}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(D.ux))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var F=r(3238),v=r(9652),A=r(9549),O=r(7392),Q=r(284),B=r(4385),G=r(455),_=r(266);function P(o,a){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.value," ")}}const Y=function(o,a){return{"border-green-400":o,"border-red-400":a}};function j(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"mat-form-field",7),e._UZ(3,"input",25),e.qZA(),e.TgZ(4,"mat-form-field",7),e._UZ(5,"input",26),e.qZA(),e.TgZ(6,"div",27)(7,"small",28),e._uU(8,"Vis\xedvel"),e.qZA(),e._UZ(9,"mat-slide-toggle",29),e.qZA(),e.TgZ(10,"button",30),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.removeHeader(l))}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA()()(),e.BQk()}if(2&o){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("formGroupName",t)("ngClass",e.WLB(8,Y,1==n.form.get("headers").get(t).get("visible").value,0==n.form.get("headers").get(t).get("visible").value)),e.xp6(2),e.Q6J("formControlName","key"),e.xp6(2),e.Q6J("formControlName","value"),e.xp6(4),e.Q6J("color","accent")("formControlName","visible"),e.xp6(1),e.Q6J("disabled",0==n.form.get("headers").get(t).get("editable").value)("matTooltip","Remover cabe\xe7alho")}}function L(o,a){1&o&&(e.TgZ(0,"div",31)(1,"mat-form-field",32)(2,"mat-label"),e._uU(3,"Body (JSON)"),e.qZA(),e._UZ(4,"textarea",33),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("formControlName","body"))}function z(o,a){1&o&&(e.TgZ(0,"p",34),e._uU(1," A resposta ser\xe1 exibida aqui! "),e.qZA())}function H(o,a){if(1&o&&(e.TgZ(0,"pre"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,t.response))}}const $=[{path:"",component:(()=>{class o{constructor(t,n,i,l){this._service=t,this._envService=n,this._dialogService=i,this._notificationService=l,this.defaultSegment="/weatherforecast",this.url="http://localhost:7280"+this.defaultSegment,this.form=new s.cw({method:new s.NI(u.GET),url:new s.NI(this.url),headers:new s.cw({}),body:new s.NI("")}),this.formHeadersControlNames$=this.form.get("headers").valueChanges.pipe((0,p.U)(()=>Object.keys(this.form.get("headers").getRawValue()))),this.methods=[{key:u.GET,value:"GET"},{key:u.POST,value:"POST",bodyFieldAvailable:!0},{key:u.PUT,value:"PUT",bodyFieldAvailable:!0},{key:u.DELETE,value:"DELETE"}],this.bodyFieldAvailable=!1}ngOnInit(){this._envService.currentEnvironment$.pipe((0,N.T)(1),(0,w.w)(t=>this._dialogService.confirm("Environment atualizado! Deseja atualizar a atual URL da API?").pipe((0,p.U)(i=>({...t,confirm:i}))))).subscribe(t=>{t.confirm&&this.form.get("url").patchValue(t.url+this.defaultSegment)}),this.form.get("method").valueChanges.subscribe(t=>{const n=this.methods.find(i=>i.key==t);this.bodyFieldAvailable=n?.bodyFieldAvailable??!1,this.bodyFieldAvailable||this.form.get("body").reset(null)}),setTimeout(()=>{this.addHeader("Getman-Request-Id",d.newGuid().toString())},0)}addHeader(t,n){const i=d.newGuid().toString(),l=null!=t&&null!=n,c=new s.cw({key:new s.NI(t??""),value:new s.NI(n??""),visible:new s.NI(!l),editable:new s.NI(!l)});l&&(c.get("key").disable(),c.get("value").disable(),c.get("editable").disable()),this.form.get("headers").addControl(i,c)}removeHeader(t){this.form.get("headers").removeControl(t)}toggleVisibility(t){const n=this.form.get("headers").get(t).get("visible");n.patchValue(!n.value)}action(){const t=this.form.get("url").value,n=this.form.get("method").value,i=this.form.get("headers").getRawValue(),l=this.form.get("body").value,c=Object.keys(i).reduce((m,K)=>{const x=i[K];return x.visible&&(m[x.key]=x.value),m},{});let f=null;if(l&&l.length>0&&this.methods.some(m=>m.key==n&&m.bodyFieldAvailable))try{f=JSON.parse(l)}catch{return void this._notificationService.error('Formato inv\xe1lido: campo "body". Requisi\xe7\xe3o cancelada')}this._service.request(t,f,n,c).subscribe(m=>{this.response=m})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T),e.Y36(S.L),e.Y36(U),e.Y36(I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-main-component"]],features:[e._Bn([T])],decls:34,vars:14,consts:[[1,"p-8"],["autocomplete","off",1,"w-full",3,"formGroup"],[1,"flex","items-start","justify-between","gap-4","w-full"],[1,"flex","flex-col","items-start","gap-4","w-full"],[1,"flex","items-center","justify-between","gap-4","w-full"],["placeholder","Method",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-auto"],["matInput","","type","text","placeholder","URL da API",1,"truncate",3,"formControlName"],[1,"flex","w-full"],[1,"w-full",3,"expanded"],[1,"block"],[1,"flex","justify-end","my-2"],["mat-raised-button","",3,"color","click"],[1,"ml-2"],[1,"flex","flex-col","gap-4","w-full",3,"formGroupName"],[4,"ngFor","ngForOf"],["class","block w-full",4,"ngIf"],["mat-flat-button","",3,"color","click"],[1,"mt-6"],[1,"border-dotted","border-2","border-white","p-8","w-full","rounded","text-white"],["class","italic m-0",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"flex","items-center","gap-4","border-l-4","pl-4",3,"formGroupName","ngClass"],["matInput","","type","text","placeholder","Header",1,"truncate",3,"formControlName"],["matInput","","type","text","placeholder","Value",1,"truncate",3,"formControlName"],[1,"flex","flex-col","gap-2"],[1,"text-gray-50"],[1,"example-margin",3,"color","formControlName"],["mat-icon-button","",3,"disabled","matTooltip","click"],[1,"block","w-full"],["appearance","fill",1,"w-full"],["matInput","","rows","10",1,"font-mono",3,"formControlName"],[1,"italic","m-0"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field")(6,"mat-select",5),e.YNc(7,P,2,2,"mat-option",6),e.qZA()(),e.TgZ(8,"mat-form-field",7),e._UZ(9,"input",8),e.qZA()(),e.TgZ(10,"mat-accordion",9)(11,"mat-expansion-panel",10)(12,"mat-expansion-panel-header")(13,"mat-panel-title"),e._uU(14," Headers "),e.qZA(),e.TgZ(15,"mat-panel-description"),e._uU(16," Mapeamento de cabe\xe7alhos da requisi\xe7\xe3o "),e.qZA()(),e.TgZ(17,"div",11)(18,"div",12)(19,"button",13),e.NdJ("click",function(){return n.addHeader()}),e.TgZ(20,"mat-icon"),e._uU(21,"add"),e.qZA(),e.TgZ(22,"span",14),e._uU(23," Adicionar "),e.qZA()()(),e.TgZ(24,"div",15),e.YNc(25,j,13,11,"ng-container",16),e.ALo(26,"async"),e.qZA()()()(),e.YNc(27,L,5,1,"div",17),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return n.action()}),e._uU(29," Send "),e.qZA()()(),e.TgZ(30,"div",19)(31,"div",20),e.YNc(32,z,2,0,"p",21),e.YNc(33,H,3,3,"pre",22),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("formControlName","method"),e.xp6(1),e.Q6J("ngForOf",n.methods),e.xp6(2),e.Q6J("formControlName","url"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(8),e.Q6J("color","primary"),e.xp6(5),e.Q6J("formGroupName","headers"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(26,12,n.formHeadersControlNames$)),e.xp6(2),e.Q6J("ngIf",n.bodyFieldAvailable),e.xp6(1),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf",!n.response),e.xp6(1),e.Q6J("ngIf",n.response))},dependencies:[h.mk,h.sg,h.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,F.ey,y.lW,v.pp,v.ib,v.yz,v.yK,v.u4,A.KE,A.hX,O.Hw,Q.Nt,B.gD,G.Rr,_.gM,h.Ov,h.Ts],encapsulation:2}),o})()}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[b.m,Z.Bz.forChild([...$])]}),o})()}}]);