"use strict";(self.webpackChunkgetman_app=self.webpackChunkgetman_app||[]).push([[971],{5971:(X,b,l)=>{l.r(b),l.d(b,{MainRequestModule:()=>W});var Z=l(9299),T=l(3288),c=l(4006),u=(()=>{return(o=u||(u={}))[o.GET=1]="GET",o[o.POST=2]="POST",o[o.PUT=4]="PUT",o[o.DELETE=8]="DELETE",o[o.PATCH=32]="PATCH",o[o.OPTIONS=64]="OPTIONS",o[o.HEAD=16]="HEAD",u;var o})();class d{constructor(n){this.value=this.empty,n&&d.isValid(n)&&(this.value=n.toLowerCase())}static newGuid(){return new d("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)}))}static get empty(){return"00000000-0000-0000-0000-000000000000"}static isValid(n){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)}get empty(){return d.empty}toString(){return this.value}toJSON(){return this.value}equals(n){return this.toString()==n?.toString()}}var h=l(4004),N=l(5684),w=l(3900),_=l(2641),e=l(4650),k=l(529);let C=(()=>{class o{constructor(t){this._http=t}request(t,a,i,r){let s,f=r??{};switch(i){case u.GET:s=this._http.get(t,{headers:f});break;case u.POST:s=this._http.post(t,a,{headers:f});break;case u.PUT:s=this._http.put(t,a,{headers:f});break;case u.DELETE:s=this._http.delete(t,{headers:f})}if(!s)throw new _.g("M\xe9todo n\xe3o suportado");return s}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(k.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var R=l(4909),g=l(5938),p=l(6895),y=l(4859);function J(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onCancel())}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.cancelAction?null:t.cancelAction.label," ")}}let q=(()=>{class o{constructor(t,a){this._data=t,this._matDialogRef=a}ngOnInit(){!this._data||(this.title=this._data.title,this.message=this._data.message,this.confirmAction=this._data.actions.confirm,this.cancelAction=this._data.actions.cancel)}onConfirm(){this._matDialogRef.close(!0)}onCancel(){this._matDialogRef.close(!1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.WI),e.Y36(g.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[e.jDz],decls:8,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"flex","items-center","justify-end","gap-1"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"color","click"],["mat-button","",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,J,2,1,"button",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.onConfirm()}),e._uU(7),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(a.title),e.xp6(2),e.hij(" ",a.message,"\n"),e.xp6(2),e.Q6J("ngIf",null==a.cancelAction?null:a.cancelAction.show),e.xp6(1),e.Q6J("color",null==a.confirmAction?null:a.confirmAction.color),e.xp6(1),e.hij(" ",null==a.confirmAction?null:a.confirmAction.label," "))},dependencies:[T.m,p.O5,y.lW,g.uh,g.xY,g.H8],encapsulation:2}),o})(),M=(()=>{class o{constructor(t){this._matDialog=t}confirm(t,a){const i=class S{static get _default(){return{title:"Confirma\xe7\xe3o",message:"Deseja confirmar esta a\xe7\xe3o?",dismissible:!1,icon:{show:!1},actions:{confirm:{label:"Sim",color:"accent",show:!0},cancel:{label:"N\xe3o",show:!0}}}}static get _layout(){return{width:"500px",height:"250px"}}static getConfig(n){const t={data:this._default,width:this._layout.width,disableClose:!this._default.dismissible};return n?.confirmText&&(t.data.actions.confirm.label=n?.confirmText),n?.cancelText&&(t.data.actions.cancel.label=n?.cancelText),null!=n?.dismissible&&(t.data.dismissible=n?.dismissible,t.disableClose=!n?.dismissible),t}}.getConfig(a);return t&&(i.data.message=t),this._matDialog.open(q,{...i}).afterClosed().pipe((0,h.U)(r=>!!r))}open(t,a,i){const r=class E{static get _default(){return{}}static getConfig(n){const t=this._default;return n?.id&&(t.id=n?.id),n?.width&&(t.width=n?.width),n?.height&&(t.height=n?.height),n?.maxWidth&&(t.maxWidth=n?.maxWidth),n?.maxHeight&&(t.maxHeight=n?.maxHeight),n?.panelClass&&(t.panelClass=n?.panelClass),n?.hasBackdrop&&(t.hasBackdrop=n?.hasBackdrop),n?.disableClose&&(t.disableClose=n?.disableClose),t}}.getConfig(i);return this._matDialog.open(t,{...r,data:a})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(g.uw))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var I=l(7009);let U=(()=>{class o{constructor(t){this.snackBar=t,this._defaultConfig={snackBar:{horizontalPosition:"center",verticalPosition:"bottom",duration:5e3,panelClass:[]},actionText:"\u2715"}}message(t,a){const i=this._getConfig(a,["bg-accent","text-on-accent"]);return this.snackBar.open(t,i.actionText,{...i.snackBar}).onAction().pipe((0,h.U)(()=>!0))}error(t,a){const i=this._getConfig(a,["bg-warn","text-on-warn"]);return this.snackBar.open(t,i.actionText,{...i.snackBar}).onAction().pipe((0,h.U)(()=>!0))}_getConfig(t,a){const i=this._defaultConfig;return t?.actionText&&(i.actionText=t?.actionText),a&&a?.length>0&&(i.snackBar.panelClass=Array.isArray(a)?[...a]:[a]),t?.duration&&(i.snackBar.duration=t?.duration),i}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(I.ux))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var D=l(3238),x=l(9652),A=l(9549),F=l(7392),O=l(284),Q=l(4385),G=l(266);function B(o,n){if(1&o&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.value," ")}}function Y(o,n){1&o&&(e.TgZ(0,"mat-icon",30),e._uU(1," visibility "),e.qZA()),2&o&&e.Q6J("matTooltip","Exibir cabe\xe7alho")}function P(o,n){1&o&&(e.TgZ(0,"mat-icon",30),e._uU(1," visibility_off "),e.qZA()),2&o&&e.Q6J("matTooltip","Ocultar cabe\xe7alho")}function j(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"mat-form-field",7),e._UZ(3,"input",25),e.qZA(),e.TgZ(4,"mat-form-field",7),e._UZ(5,"input",26),e.qZA(),e.TgZ(6,"button",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.toggleVisibility(r))}),e.YNc(7,Y,2,1,"mat-icon",28),e.YNc(8,P,2,1,"mat-icon",28),e.qZA(),e.TgZ(9,"button",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.removeHeader(r))}),e.TgZ(10,"mat-icon"),e._uU(11,"delete"),e.qZA()()(),e.BQk()}if(2&o){const t=n.$implicit,a=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(2),e.Q6J("formControlName","key"),e.xp6(2),e.Q6J("formControlName","value"),e.xp6(1),e.Q6J("disabled",0==a.form.get("headers").get(t).get("editable").value),e.xp6(1),e.Q6J("ngIf",0==a.form.get("headers").get(t).get("visible").value),e.xp6(1),e.Q6J("ngIf",1==a.form.get("headers").get(t).get("visible").value),e.xp6(1),e.Q6J("disabled",0==a.form.get("headers").get(t).get("editable").value)("matTooltip","Remover cabe\xe7alho")}}function L(o,n){1&o&&(e.TgZ(0,"div",31)(1,"mat-form-field",32)(2,"mat-label"),e._uU(3,"Body (JSON)"),e.qZA(),e._UZ(4,"textarea",33),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("formControlName","body"))}function H(o,n){1&o&&(e.TgZ(0,"p",34),e._uU(1," A resposta ser\xe1 exibida aqui! "),e.qZA())}function z(o,n){if(1&o&&(e.TgZ(0,"pre"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,t.response))}}const $=[{path:"",component:(()=>{class o{constructor(t,a,i,r){this._service=t,this._envService=a,this._dialogService=i,this._notificationService=r,this.defaultSegment="/weatherforecast",this.url="http://localhost:7280"+this.defaultSegment,this.form=new c.cw({method:new c.NI(u.GET),url:new c.NI(this.url),headers:new c.cw({}),body:new c.NI("")}),this.formHeadersControlNames$=this.form.get("headers").valueChanges.pipe((0,h.U)(()=>Object.keys(this.form.get("headers").getRawValue()))),this.methods=[{key:u.GET,value:"GET"},{key:u.POST,value:"POST",bodyFieldAvailable:!0},{key:u.PUT,value:"PUT",bodyFieldAvailable:!0},{key:u.DELETE,value:"DELETE"}],this.bodyFieldAvailable=!1}ngOnInit(){this._envService.currentEnvironment$.pipe((0,N.T)(1),(0,w.w)(t=>this._dialogService.confirm("Environment atualizado! Deseja atualizar a atual URL da API?").pipe((0,h.U)(i=>({...t,confirm:i}))))).subscribe(t=>{t.confirm&&this.form.get("url").patchValue(t.url+this.defaultSegment)}),this.form.get("method").valueChanges.subscribe(t=>{const a=this.methods.find(i=>i.key==t);this.bodyFieldAvailable=a?.bodyFieldAvailable??!1,this.bodyFieldAvailable||this.form.get("body").reset(null)}),setTimeout(()=>{this.addHeader("Getman-Request-Id",d.newGuid().toString())},0)}addHeader(t,a){const i=d.newGuid().toString(),r=null!=t&&null!=a,s=new c.cw({key:new c.NI(t??""),value:new c.NI(a??""),visible:new c.NI(!0),editable:new c.NI(!r)});r&&(s.get("key").disable(),s.get("value").disable(),s.get("editable").disable()),this.form.get("headers").addControl(i,s)}removeHeader(t){this.form.get("headers").removeControl(t)}toggleVisibility(t){const a=this.form.get("headers").get(t).get("visible");a.patchValue(!a.value)}action(){const t=this.form.get("url").value,a=this.form.get("method").value,i=this.form.get("headers").getRawValue(),r=this.form.get("body").value,s=Object.keys(i).reduce((m,K)=>{const v=i[K];return v.visible&&(m[v.key]=v.value),m},{});let f=null;if(r&&r.length>0&&this.methods.some(m=>m.key==a&&m.bodyFieldAvailable))try{f=JSON.parse(r)}catch{return void this._notificationService.error('Formato inv\xe1lido: campo "body". Requisi\xe7\xe3o cancelada')}this._service.request(t,f,a,s).subscribe(m=>{this.response=m})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C),e.Y36(R.L),e.Y36(M),e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-main-component"]],features:[e._Bn([C])],decls:34,vars:14,consts:[[1,"p-8"],["autocomplete","off",1,"w-full",3,"formGroup"],[1,"flex","items-start","justify-between","gap-4","w-full"],[1,"flex","flex-col","items-start","gap-4","w-full"],[1,"flex","items-center","justify-between","gap-4","w-full"],["placeholder","Method",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-auto"],["matInput","","type","text","placeholder","URL da API",1,"truncate",3,"formControlName"],[1,"flex","w-full"],[1,"w-full",3,"expanded"],[1,"block"],[1,"flex","justify-end","my-2"],["mat-raised-button","",3,"color","click"],[1,"ml-2"],[1,"flex","flex-col","gap-4","w-full",3,"formGroupName"],[4,"ngFor","ngForOf"],["class","block w-full",4,"ngIf"],["mat-flat-button","",3,"color","click"],[1,"mt-6"],[1,"border-dotted","border-2","border-white","p-8","w-full","rounded","text-white"],["class","italic m-0",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"flex","items-center","gap-4",3,"formGroupName"],["matInput","","type","text","placeholder","Header",1,"truncate",3,"formControlName"],["matInput","","type","text","placeholder","Value",1,"truncate",3,"formControlName"],["mat-icon-button","",3,"disabled","click"],[3,"matTooltip",4,"ngIf"],["mat-icon-button","",3,"disabled","matTooltip","click"],[3,"matTooltip"],[1,"block","w-full"],["appearance","fill",1,"w-full"],["matInput","","rows","10",1,"font-mono",3,"formControlName"],[1,"italic","m-0"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-form-field")(6,"mat-select",5),e.YNc(7,B,2,2,"mat-option",6),e.qZA()(),e.TgZ(8,"mat-form-field",7),e._UZ(9,"input",8),e.qZA()(),e.TgZ(10,"mat-accordion",9)(11,"mat-expansion-panel",10)(12,"mat-expansion-panel-header")(13,"mat-panel-title"),e._uU(14," Headers "),e.qZA(),e.TgZ(15,"mat-panel-description"),e._uU(16," Mapeamento de cabe\xe7alhos da requisi\xe7\xe3o "),e.qZA()(),e.TgZ(17,"div",11)(18,"div",12)(19,"button",13),e.NdJ("click",function(){return a.addHeader()}),e.TgZ(20,"mat-icon"),e._uU(21,"add"),e.qZA(),e.TgZ(22,"span",14),e._uU(23," Adicionar "),e.qZA()()(),e.TgZ(24,"div",15),e.YNc(25,j,12,8,"ng-container",16),e.ALo(26,"async"),e.qZA()()()(),e.YNc(27,L,5,1,"div",17),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return a.action()}),e._uU(29," Send "),e.qZA()()(),e.TgZ(30,"div",19)(31,"div",20),e.YNc(32,H,2,0,"p",21),e.YNc(33,z,3,3,"pre",22),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(5),e.Q6J("formControlName","method"),e.xp6(1),e.Q6J("ngForOf",a.methods),e.xp6(2),e.Q6J("formControlName","url"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(8),e.Q6J("color","primary"),e.xp6(5),e.Q6J("formGroupName","headers"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(26,12,a.formHeadersControlNames$)),e.xp6(2),e.Q6J("ngIf",a.bodyFieldAvailable),e.xp6(1),e.Q6J("color","primary"),e.xp6(4),e.Q6J("ngIf",!a.response),e.xp6(1),e.Q6J("ngIf",a.response))},dependencies:[p.sg,p.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,c.x0,D.ey,y.lW,x.pp,x.ib,x.yz,x.yK,x.u4,A.KE,A.hX,F.Hw,O.Nt,Q.gD,G.gM,p.Ov,p.Ts],encapsulation:2}),o})()}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[T.m,Z.Bz.forChild([...$])]}),o})()}}]);